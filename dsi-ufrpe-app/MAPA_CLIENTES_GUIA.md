# Guia RÃ¡pido - Mapa de Clientes

## ğŸ¯ Como Funciona

### VisualizaÃ§Ã£o por NÃ­vel de Zoom

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ZOOM AFASTADO (Estados)                â”‚
â”‚                                         â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•—  â•”â•â•â•â•â•â•â•â•â•â•â•—            â”‚
â”‚  â•‘    PE    â•‘  â•‘    BA    â•‘            â”‚
â”‚  â•‘   125    â•‘  â•‘    48    â•‘            â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•  â•šâ•â•â•â•â•â•â•â•â•â•â•            â”‚
â”‚                                         â”‚
â”‚  â€¢ Ãreas grandes coloridas              â”‚
â”‚  â€¢ Marcadores com total do estado       â”‚
â”‚  â€¢ Melhor para visÃ£o geral              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â¬‡ï¸ APROXIMAR ZOOM â¬‡ï¸

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ZOOM APROXIMADO (Cidades)              â”‚
â”‚                                         â”‚
â”‚  â•”â•â•â•â•â•—  â•”â•â•â•â•â•—  â•”â•â•â•â•â•—               â”‚
â”‚  â•‘RCF â•‘  â•‘OLD â•‘  â•‘JAB â•‘               â”‚
â”‚  â•‘ 45 â•‘  â•‘ 23 â•‘  â•‘ 32 â•‘               â”‚
â”‚  â•šâ•â•â•â•â•  â•šâ•â•â•â•â•  â•šâ•â•â•â•â•               â”‚
â”‚                                         â”‚
â”‚  â€¢ Ãreas menores coloridas              â”‚
â”‚  â€¢ Marcadores com total da cidade       â”‚
â”‚  â€¢ Melhor para anÃ¡lise detalhada        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Legenda de Cores

Cada localizaÃ§Ã£o recebe automaticamente uma cor Ãºnica:

- ğŸ”´ Vermelho (#FF6B6B)
- ğŸ”µ Turquesa (#4ECDC4)
- ğŸŸ¢ Verde (#52B788)
- ğŸŸ¡ Amarelo (#F7DC6F)
- ğŸŸ£ Roxo (#BB8FCE)
- ğŸŸ  Laranja (#F8B739)
- E mais 6 variaÃ§Ãµes...

As cores se repetem caso haja mais de 12 localizaÃ§Ãµes.

## ğŸ–±ï¸ InteraÃ§Ãµes

### NavegaÃ§Ã£o
- **PinÃ§a**: Aproximar/Afastar zoom
- **Arrastar**: Mover o mapa
- **Toque duplo**: Zoom rÃ¡pido

### Marcadores
1. **Toque no marcador** â†’ Abre card informativo
2. **Card mostra**:
   - Nome da localizaÃ§Ã£o
   - Quantidade de clientes
   - Lista de cidades (se for estado)
3. **BotÃ£o "Ver Lista"** â†’ Futura tela de clientes filtrados

## ğŸ“Š Card Informativo

### VisualizaÃ§Ã£o de Cidade
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”µ Recife                      â”‚
â”‚    PE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚
â”‚    ğŸ‘¥ 45 Clientes              â”‚
â”‚                                â”‚
â”‚ [Ver Lista de Clientes] â†’      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### VisualizaÃ§Ã£o de Estado
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ PE                          â”‚
â”‚    Estado                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ğŸ‘¥ 125       ğŸ¢ 8            â”‚
â”‚   Clientes    Cidades          â”‚
â”‚                                â”‚
â”‚ Cidades com clientes:          â”‚
â”‚ â€¢ Recife (45)                  â”‚
â”‚ â€¢ Olinda (23)                  â”‚
â”‚ â€¢ JaboatÃ£o (18)                â”‚
â”‚ â€¢ Caruaru (15)                 â”‚
â”‚ â€¢ Petrolina (12)               â”‚
â”‚ + 3 mais                       â”‚
â”‚                                â”‚
â”‚ [Ver Lista de Clientes] â†’      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Casos de Uso

### 1. AnÃ¡lise GeogrÃ¡fica RÃ¡pida
**Objetivo**: Ver distribuiÃ§Ã£o geral de clientes

1. Abra o mapa
2. Observe visÃ£o de estados (zoom afastado)
3. Identifique estados com mais clientes (nÃºmeros maiores)
4. Compare Ã¡reas coloridas

### 2. AnÃ¡lise Detalhada por Cidade
**Objetivo**: Entender concentraÃ§Ã£o em cidades especÃ­ficas

1. Abra o mapa
2. Aproxime zoom em um estado
3. Visualize cidades individualmente
4. Toque nos marcadores para ver detalhes

### 3. Planejamento de ExpansÃ£o
**Objetivo**: Identificar oportunidades

1. Observe regiÃµes sem clientes (sem cor)
2. Compare densidade entre cidades
3. Use informaÃ§Ãµes para estratÃ©gia comercial

### 4. Suporte Regional
**Objetivo**: Organizar atendimento por regiÃ£o

1. Visualize distribuiÃ§Ã£o por estado
2. Toque em estado para ver cidades
3. Planeje equipes baseado em concentraÃ§Ã£o

## âš™ï¸ ConfiguraÃ§Ãµes e Ajustes

### Alterar Threshold de Zoom
Arquivo: `ClienteClusteringService.ts`

```typescript
static shouldShowCities(latitudeDelta: number): boolean {
    return latitudeDelta < 1.0; // Ajuste este valor
}
```

- Valor menor (0.5): Mostra cidades sÃ³ com zoom muito prÃ³ximo
- Valor maior (2.0): Mostra cidades mesmo com zoom afastado

### Alterar Raio dos PolÃ­gonos
Arquivo: `ClienteClusteringService.ts`

```typescript
static calculateRadius(count: number, isCity: boolean): number {
    if (isCity) {
        return Math.min(5 + count * 0.5, 15); // Ajuste aqui
    } else {
        return Math.min(30 + count * 2, 100); // E aqui
    }
}
```

### Adicionar Mais Cores
Arquivo: `ClienteClusteringService.ts`

```typescript
private static readonly COLORS = [
    '#FF6B6B', // Suas cores...
    '#NOVACOLOR', // Adicione aqui
];
```

## ğŸ› SoluÃ§Ã£o de Problemas Comuns

### Mapa nÃ£o muda de nÃ­vel ao dar zoom
**Causa**: Threshold de zoom muito alto/baixo
**SoluÃ§Ã£o**: Ajuste o valor em `shouldShowCities()`

### PolÃ­gonos muito grandes/pequenos
**Causa**: Raio de cÃ¡lculo inadequado
**SoluÃ§Ã£o**: Ajuste valores em `calculateRadius()`

### Cores repetindo muito
**Causa**: Poucas cores disponÃ­veis
**SoluÃ§Ã£o**: Adicione mais cores no array `COLORS`

### Cidade nÃ£o aparece no mapa
**Causa**: Coordenadas nÃ£o cadastradas
**SoluÃ§Ã£o**: Adicione em `CITY_COORDINATES`

## ğŸ“š Recursos Adicionais

- [React Native Maps Docs](https://github.com/react-native-maps/react-native-maps)
- [Expo Location Docs](https://docs.expo.dev/versions/latest/sdk/location/)
- [Clustering Algorithms](https://en.wikipedia.org/wiki/Cluster_analysis)

## ğŸ’¡ Dicas de Performance

1. **Muitos clientes?** Considere implementar clustering real (nÃ£o circular)
2. **AnimaÃ§Ãµes lentas?** Desative animaÃ§Ãµes em dispositivos lentos
3. **Carregamento lento?** Implemente lazy loading por regiÃ£o
4. **Dados desatualizados?** Adicione refresh manual/automÃ¡tico

---

**VersÃ£o**: 2.0 (Clustering HierÃ¡rquico)  
**Ãšltima atualizaÃ§Ã£o**: Novembro 2025
